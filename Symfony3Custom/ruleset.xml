<?xml version="1.0"?>
<ruleset name="Symfony3Custom">
    <!-- See http://symfony.com/doc/current/contributing/code/standards.html -->
    <description>The Symfony3Custom coding standard.</description>

    <!-- There should not be any code in the bundle Resources directory. -->
    <exclude-pattern>*/Resources/*</exclude-pattern>

    <!-- ************** -->
    <!-- ***  PSR2  *** -->
    <!-- ************** -->

        <!-- Include the whole PSR-2 (so PSR-1) standard -->
        <rule ref="PSR2"/>

    <!-- ************** -->
    <!-- ***  ZEND  *** -->
    <!-- ************** -->

        <!-- Import Zend coding standard (which in turn imports PEAR) -->
        <rule ref="Zend">
            <!-- Exclude their code analyzer -->
            <exclude name="Zend.Debug.CodeAnalyzer"/>

            <!-- Covered by Squiz ControlSignature -->
            <exclude name="PEAR.ControlStructures.ControlSignature"/>

            <!-- Covered by PSR2 FunctionCallSignature -->
            <exclude name="PEAR.Functions.FunctionCallSignature"/>

            <!-- Covered by Squiz FunctionDeclaration imported by PSR2 -->
            <exclude name="Generic.Functions.OpeningFunctionBraceBsdAllman.BraceOnSameLine"/>
        </rule>

        <!-- Don't enforce Zend's private member underscores -->
        <rule ref="Zend.NamingConventions.ValidVariableName.PrivateNoUnderscore">
            <severity>0</severity>
        </rule>

        <!-- Ignore variables that contains numbers -->
        <rule ref="Zend.NamingConventions.ValidVariableName.ContainsNumbers">
            <severity>0</severity>
        </rule>

    <!-- ****************** -->
    <!-- ***  OVERRIDE  *** -->
    <!-- ****************** -->

        <!-- Override LineLength to avoid 80 character warning -->
        <rule ref="Generic.Files.LineLength">
            <properties>
                <property name="lineLimit" value="120"/>
            </properties>
        </rule>

        <!-- Override SuperfluousWhitespace to not ignore blank lines -->
        <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace">
            <properties>
                <property name="ignoreBlankLines" value="false"/>
            </properties>
        </rule>
        <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace.EmptyLines" />

    <!-- **************** -->
    <!-- ***  OTHERS  *** -->
    <!-- **************** -->

        <!-- Rules added by djoos/Symfony2-coding-standard-->
        <rule ref="Generic.Formatting.SpaceAfterCast"/>
        <rule ref="Generic.Functions.CallTimePassByReference"/>
        <rule ref="Squiz.Arrays.ArrayBracketSpacing"/>
        <rule ref="Squiz.PHP.LowercasePHPFunctions"/>
        <rule ref="Squiz.Scope.MemberVarScope"/>
        <rule ref="PEAR.Commenting.InlineComment"/>

        <!-- Rules added by endouble/Symfony3Custom-coding-standard -->
        <rule ref="Squiz.Strings.ConcatenationSpacing">
            <properties>
                <property name="spacing" value="1"/>
                <property name="ignoreNewlines" value="true" />
            </properties>
        </rule>
        <rule ref="Symfony3Custom.Commenting.FunctionComment.MissingParamComment">
            <severity>0</severity>
        </rule>
</ruleset>
